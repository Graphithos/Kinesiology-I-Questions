<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MCQs on Kinesiology 1 Shoulder Complex T&F Questions Quiz</title>
    <style>
        :root {
            --bg-color: #f5f7fa;
            --container-bg: white;
            --text-color: #333;
            --border-color: #ddd;
            --primary-color: #3498db;
            --header-color: #2c3e50;
            --secondary-text: #7f8c8d;
            --progress-bg: #ecf0f1;
            --question-bg: #f8f9fa;
            --option-bg: #fff;
            --option-hover: #f1f8ff;
            --option-selected: #d1ecf1;
            --correct-bg: #d4edda;
            --correct-border: #28a745;
            --incorrect-bg: #f8d7da;
            --incorrect-border: #dc3545;
            --button-bg: #3498db;
            --button-hover: #2980b9;
            --button-disabled: #bdc3c7;
            --restart-bg: #2ecc71;
            --restart-hover: #27ae60;
            --review-bg: #f39c12;
            --review-hover: #e67e22;
            --toggle-bg: #ecf0f1;
            --toggle-slider: white;
            --toggle-text: #7f8c8d;
        }

        .dark-mode {
            --bg-color: #1a1a2e;
            --container-bg: #16213e;
            --text-color: #e6e6e6;
            --border-color: #394867;
            --primary-color: #4cc9f0;
            --header-color: #e6e6e6;
            --secondary-text: #a9a9a9;
            --progress-bg: #394867;
            --question-bg: #1f4068;
            --option-bg: #16213e;
            --option-hover: #1f4068;
            --option-selected: #1f4068;
            --correct-bg: #2d5a2d;
            --correct-border: #4caf50;
            --incorrect-bg: #5a2d2d;
            --incorrect-border: #f44336;
            --button-bg: #4cc9f0;
            --button-hover: #3aa8d0;
            --button-disabled: #5d6d7e;
            --restart-bg: #2ecc71;
            --restart-hover: #27ae60;
            --review-bg: #f39c12;
            --review-hover: #e67e22;
            --toggle-bg: #394867;
            --toggle-slider: #4cc9f0;
            --toggle-text: #e6e6e6;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            padding: 20px;
            transition: background-color 0.3s, color 0.3s;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: var(--container-bg);
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
            transition: background-color 0.3s, box-shadow 0.3s;
        }
        header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid var(--primary-color);
            position: relative;
        }
        h1 {
            color: var(--header-color);
            margin-bottom: 5px;
            font-size: 24px;
            transition: color 0.3s;
        }
        .author {
            color: var(--secondary-text);
            font-style: italic;
            margin-bottom: 10px;
            transition: color 0.3s;
        }
        .description {
            color: var(--secondary-text);
            margin-bottom: 20px;
            transition: color 0.3s;
        }
        .theme-toggle {
            position: absolute;
            top: 35px; /* Adjusted to align with author name */
            right: 0;
            display: flex;
            align-items: center;
        }
        .switch {
            position: relative;
            display: inline-block;
            width: 120px;
            height: 34px;
        }
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: var(--toggle-bg);
            transition: .4s;
            border-radius: 34px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 10px;
            font-size: 12px;
            font-weight: bold;
            color: var(--toggle-text);
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 60px;
            left: 4px;
            bottom: 4px;
            background-color: var(--toggle-slider);
            transition: .4s;
            border-radius: 34px;
            z-index: 1;
        }
        .slider-text {
            position: relative;
            z-index: 2;
            width: 100%;
            display: flex;
            justify-content: space-between;
        }
        .light-text, .dark-text {
            transition: opacity 0.3s;
        }
        .dark-mode .light-text {
            opacity: 0.5;
        }
        .light-text {
            opacity: 0.5;
        }
        .dark-mode .dark-text {
            opacity: 1;
        }
        .dark-text {
            opacity: 0.5;
        }
        input:checked + .slider:before {
            transform: translateX(52px);
        }
        .progress-container {
            background: var(--progress-bg);
            border-radius: 5px;
            margin-bottom: 20px;
            position: relative;
            height: 10px;
            transition: background-color 0.3s;
        }
        .progress-bar {
            height: 100%;
            background: var(--primary-color);
            border-radius: 5px;
            width: 0%;
            transition: width 0.3s ease, background-color 0.3s;
        }
        .stats {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            font-weight: bold;
            color: var(--header-color);
            transition: color 0.3s;
        }
        .question {
            background: var(--question-bg);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            transition: background-color 0.3s;
        }
        .question-number {
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 10px;
            transition: color 0.3s;
        }
        .question-text {
            font-size: 18px;
            margin-bottom: 15px;
        }
        .options {
            display: grid;
            grid-gap: 10px;
        }
        .option {
            padding: 12px 15px;
            background: var(--option-bg);
            border: 2px solid var(--border-color);
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .option:hover {
            background: var(--option-hover);
            border-color: var(--primary-color);
        }
        .option.selected {
            background: var(--option-selected);
            border-color: var(--primary-color);
        }
        .option.correct {
            background: var(--correct-bg);
            border-color: var(--correct-border);
        }
        .option.incorrect {
            background: var(--incorrect-bg);
            border-color: var(--incorrect-border);
        }
        .feedback {
            padding: 15px;
            border-radius: 5px;
            margin-top: 15px;
            display: none;
        }
        .feedback.correct {
            background: var(--correct-bg);
            color: var(--text-color);
            border: 1px solid var(--correct-border);
            display: block;
        }
        .feedback.incorrect {
            background: var(--incorrect-bg);
            color: var(--text-color);
            border: 1px solid var(--incorrect-border);
            display: block;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        button {
            padding: 10px 20px;
            background: var(--button-bg);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: background 0.3s;
        }
        button:hover {
            background: var(--button-hover);
        }
        button:disabled {
            background: var(--button-disabled);
            cursor: not-allowed;
        }
        .results {
            text-align: center;
            padding: 30px;
            display: none;
        }
        .score {
            font-size: 24px;
            margin-bottom: 20px;
            color: var(--header-color);
        }
        .score-value {
            font-size: 48px;
            color: var(--primary-color);
            font-weight: bold;
        }
        .restart-btn {
            margin-top: 20px;
            background: var(--restart-bg);
        }
        .restart-btn:hover {
            background: var(--restart-hover);
        }
        .review-btn {
            margin-top: 20px;
            background: var(--review-bg);
        }
        .review-btn:hover {
            background: var(--review-hover);
        }
        .review-section {
            margin-top: 30px;
            padding: 20px;
            background: var(--question-bg);
            border-radius: 8px;
            display: none;
        }
        .review-title {
            font-size: 20px;
            margin-bottom: 15px;
            color: var(--header-color);
            text-align: center;
        }
        .review-question {
            margin-bottom: 20px;
            padding: 15px;
            border-left: 4px solid var(--incorrect-border);
            background: var(--container-bg);
            border-radius: 4px;
        }
        .review-question-number {
            font-weight: bold;
            color: var(--incorrect-border);
            margin-bottom: 8px;
        }
        .review-question-text {
            margin-bottom: 10px;
        }
        .review-answer {
            margin-top: 8px;
            font-weight: bold;
        }
        .review-correct {
            color: var(--correct-border);
        }
        .review-explanation {
            margin-top: 5px;
            font-style: italic;
            color: var(--secondary-text);
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>MCQs on Kinesiology 1 Shoulder Complex T&F Questions Quiz</h1>
            <p class="author">Dr. Samy Salem</p>
            <p class="description">Test your knowledge of Kinesiology 1 Shoulder Complex</p>
            <div class="theme-toggle">
                <label class="switch">
                    <input type="checkbox" id="dark-mode-toggle">
                    <span class="slider">
                        <div class="slider-text">
                            <span class="light-text">Light</span>
                            <span class="dark-text">Dark</span>
                        </div>
                    </span>
                </label>
            </div>
        </header>

        <div class="progress-container">
            <div class="progress-bar" id="progress-bar"></div>
        </div>

        <div class="stats">
            <div>Question: <span id="current-question">1</span>/<span id="total-questions">55</span></div>
            <div>Score: <span id="score">0</span>/<span id="total-score">55</span></div>
        </div>

        <div id="quiz-container">
            <!-- Questions will be inserted here by JavaScript -->
        </div>

        <div class="navigation">
            <button id="prev-btn" disabled>Previous</button>
            <button id="next-btn">Next</button>
        </div>

        <div id="results" class="results">
            <div class="score">Your Score: <span class="score-value" id="final-score">0</span>/55</div>
            <p id="performance-message"></p>
            <button class="restart-btn" id="restart-btn">Restart Quiz</button>
            <button class="review-btn" id="review-btn">Review Incorrect Answers</button>
        </div>

        <div id="review-section" class="review-section">
            <h2 class="review-title">Questions Answered Incorrectly</h2>
            <div id="incorrect-questions-list"></div>
        </div>
    </div>

    <script>
        // Quiz data (all 55 questions from the PDF)
        const quizData = [
            {
                question: "The sternoclavicular joint is a biaxial joint with 2 degrees of freedom (DOF).",
                options: [
                    "True",
                    "False"
                ],
                answer: 1,
                explanation: "False (3 DOF)"
            },
            {
                question: "The sternoclavicular joint is formed by the articulation of the clavicular notch of the manubrium of the sternum, the lateral end of the clavicle, and the cartilage of the first rib.",
                options: [
                    "True",
                    "False"
                ],
                answer: 1,
                explanation: "False (The medial end)"
            },
            {
                question: "The medial end of the clavicle is convex in the frontal plane.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "The clavicular notch of the manubrium is concave in the transverse plane.",
                options: [
                    "True",
                    "False"
                ],
                answer: 1,
                explanation: "False (Frontal plane)"
            },
            {
                question: "The sternoclavicular joint has a very strong capsule.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "The sternoclavicular ligament resists the anterior motion with the anterior fibers, and posterior motion with posterior fibers.",
                options: [
                    "True",
                    "False"
                ],
                answer: 1,
                explanation: "False (Anterior fibers resist posterior motion, posterior fibers resist anterior motion)"
            },
            {
                question: "The costoclavicular ligament resists superior and posterior motion.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "The costoclavicular ligament consists of an anterior bundle running superior and laterally, and a posterior bundle running superior and medially.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "The closed packed position for the sternoclavicular joint is maximum arm elevation and retraction.",
                options: [
                    "True",
                    "False"
                ],
                answer: 1,
                explanation: "False (Protraction)"
            },
            {
                question: "The capsular pattern for either the sternoclavicular joint is characterized by pain at the extremes, especially full arm elevation and horizontal adduction.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "The acromioclavicular joint is a diarthrodial, uniaxial, plane joint.",
                options: [
                    "True",
                    "False"
                ],
                answer: 1,
                explanation: "False (Nonaxial)"
            },
            {
                question: "Joint surfaces at the acromioclavicular joint may be slightly convex/concave.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "The clavicle is deviated approximately 20° posterior to the frontal plane.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "The acromioclavicular joint has a very weak capsule.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "The acromioclavicular ligament is the strongest ligament in the shoulder.",
                options: [
                    "True",
                    "False"
                ],
                answer: 1,
                explanation: "False (Coracoclavicular)"
            },
            {
                question: "The coracoclavicular ligament is the primary stabilizer of the acromioclavicular joint.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "The articular disk of the acromioclavicular joint is incomplete in ~10% of people.",
                options: [
                    "True",
                    "False"
                ],
                answer: 1,
                explanation: "False (Complete)"
            },
            {
                question: "Sagittal plane adjustments of the acromioclavicular joint include anterior and posterior tilting, and occur in elevation/depression.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "The closed packed position of the acromioclavicular joint is 90° glenohumeral abduction and is achievable only if younger than 30 years old.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "Degeneration of the acromioclavicular joint and formation of inferior osteophytes can predispose to shoulder impingement syndrome (SIS).",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "The incidence rate of rotator cuff impingement for patients with Type I acromion is 70%.",
                options: [
                    "True",
                    "False"
                ],
                answer: 1,
                explanation: "False (Type III, Type I is 3%)"
            },
            {
                question: "Upward rotation of the scapula is essential to preserve the volume of the subacromial space and prevent impingement of related structures.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "Upward rotation of the scapula occurs in elevation so it could remain vertical.",
                options: [
                    "True",
                    "False"
                ],
                answer: 1,
                explanation: "False (Downward rotation)"
            },
            {
                question: "Internal rotation of the humerus in abduction could lead to subacromial impingement due to the greater tuberosity pushing against the acromion process.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "The retroversion of the humeral head is 135 degrees.",
                options: [
                    "True",
                    "False"
                ],
                answer: 1,
                explanation: "False (30 degrees, angle of inclination is 135 degrees)"
            },
            {
                question: "The superior glenohumeral ligament resists inferior translation in the abducted arm.",
                options: [
                    "True",
                    "False"
                ],
                answer: 1,
                explanation: "False (Adducted)"
            },
            {
                question: "The middle glenohumeral is present in only ~70% of people.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "The anterior-inferior glenohumeral ligament resists external rotation, while the posterior-inferior glenohumeral resists internal rotation.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "The glenoid labrum increases the depth by 20% and increases the stability by 50%.",
                options: [
                    "True",
                    "False"
                ],
                answer: 1,
                explanation: "False (increases depth by 50% and increases stability by 20%)"
            },
            {
                question: "Intra-capsular pressure of the glenohumeral joint is highest in 30 degrees of abduction (i.e., suction force is the lowest) and provides 50% restraint.",
                options: [
                    "True",
                    "False"
                ],
                answer: 1,
                explanation: "False (lowest in 30 degrees of abduction, meaning suction force is the highest)"
            },
            {
                question: "The coracobrachialis provides minor assistance in glenohumeral adduction.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "Latissimus dorsi and teres major are the primary horizontal abductors of the glenohumeral joint.",
                options: [
                    "True",
                    "False"
                ],
                answer: 1,
                explanation: "False (Assistant)"
            },
            {
                question: "The sternocostal head of the pectoralis major can extend the glenohumeral joint.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True (especially from a flexed position)"
            },
            {
                question: "The short head of biceps assists in horizontal adduction.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "The scapula is deviated ~30-40 degrees posterior to the frontal plane.",
                options: [
                    "True",
                    "False"
                ],
                answer: 1,
                explanation: "False (Anterior to the frontal plane)"
            },
            {
                question: "The surgical neck of the humerus is the attachment for the glenohumeral joint capsule.",
                options: [
                    "True",
                    "False"
                ],
                answer: 1,
                explanation: "False (Anatomical neck)"
            },
            {
                question: "Closed packed position for the glenohumeral joint is 90 degrees abduction with full internal rotation.",
                options: [
                    "True",
                    "False"
                ],
                answer: 1,
                explanation: "False (Full external rotation)"
            },
            {
                question: "The head of the humerus is 4-5 times larger than the glenoid fossa.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "The capsular pattern for the glenohumeral joint is most limited in external rotation, then abduction, then internal rotation, which is consistent with adhesive capsulitis.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "The capsular pattern for selected capsular hypomobility, external rotation is the most limited.",
                options: [
                    "True",
                    "False"
                ],
                answer: 1,
                explanation: "False (Internal rotation)"
            },
            {
                question: "The most common type of dislocation of the glenohumeral joint is anterior-inferior dislocation.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "The most common dislocation position for the glenohumeral joint is the abduction with external rotation overhead.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "Recurrence rate of glenohumeral dislocation for people younger than 20 years old is 33-50%.",
                options: [
                    "True",
                    "False"
                ],
                answer: 1,
                explanation: "False (66-90%, 33-50% for people older than 20 years old)"
            },
            {
                question: "Absence of elevation, retraction, upward rotation of the scapula would lead to limited abduction or flexion to ~90 degrees, and doesn't cause narrowing of the subacromial space.",
                options: [
                    "True",
                    "False"
                ],
                answer: 1,
                explanation: "False (does cause narrowing of the subacromial space)"
            },
            {
                question: "The rotator cuff muscles are the arthrokinematics controler of the humeral head during movements.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "Paralysis of the supraspinatus will cause superior migration of the humeral head in glenohumeral abduction.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "Absence of the rotator cuff will cause locking of the shoulder in abduction, unless passively adducted.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "The tendon of the long head of the biceps is anatomically considered the fifth rotator cuff tendon.",
                options: [
                    "True",
                    "False"
                ],
                answer: 1,
                explanation: "False (Functionally)"
            },
            {
                question: "The mechanism of injury from swimming is abduction with external rotation.",
                options: [
                    "True",
                    "False"
                ],
                answer: 1,
                explanation: "False (Abduction with internal rotation)"
            },
            {
                question: "Solutions, or ways to prevent injuries caused by swimming, are leading with the hand to decrease internal rotation, or increasing body roll to decrease abduction.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "Horizontal shear forces to the acromioclavicular joint (e.g., falling on middle deltoid) are primarily resisted by the coracoclavicular ligament.",
                options: [
                    "True",
                    "False"
                ],
                answer: 1,
                explanation: "False (the superior and inferior capsular ligaments)"
            },
            {
                question: "The middle glenohumeral ligament resists anterior translation of the humeral head, especially at 45 degrees of abduction.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "The acromioclavicular ligament is the primary reason for posterior rotation of the clavicle during abduction.",
                options: [
                    "True",
                    "False"
                ],
                answer: 1,
                explanation: "False (Coracoclavicular ligament)"
            },
            {
                question: "The majority of external rotation of the humerus occurs in late stages of full abduction.",
                options: [
                    "True",
                    "False"
                ],
                answer: 1,
                explanation: "False (Middle)"
            },
            {
                question: "Internal rotation torque is higher than external rotation torque at the glenohumeral joint.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            }
        ];

        // Quiz state variables
        let currentQuestion = 0;
        let score = 0;
        let userAnswers = new Array(quizData.length).fill(null);
        let incorrectQuestions = [];

        // DOM elements
        const quizContainer = document.getElementById('quiz-container');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const progressBar = document.getElementById('progress-bar');
        const currentQuestionEl = document.getElementById('current-question');
        const totalQuestionsEl = document.getElementById('total-questions');
        const scoreEl = document.getElementById('score');
        const totalScoreEl = document.getElementById('total-score');
        const resultsContainer = document.getElementById('results');
        const finalScoreEl = document.getElementById('final-score');
        const performanceMessageEl = document.getElementById('performance-message');
        const restartBtn = document.getElementById('restart-btn');
        const reviewBtn = document.getElementById('review-btn');
        const reviewSection = document.getElementById('review-section');
        const incorrectQuestionsList = document.getElementById('incorrect-questions-list');
        const darkModeToggle = document.getElementById('dark-mode-toggle');
        const lightText = document.querySelector('.light-text');
        const darkText = document.querySelector('.dark-text');

        // Initialize quiz
        function initQuiz() {
            totalQuestionsEl.textContent = quizData.length;
            totalScoreEl.textContent = quizData.length;
            showQuestion();
            updateProgressBar();
            
            // Initialize dark mode based on system preference
            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                document.body.classList.add('dark-mode');
                darkModeToggle.checked = true;
                updateToggleText(true);
            } else {
                updateToggleText(false);
            }
            
            // Event listeners
            prevBtn.addEventListener('click', showPreviousQuestion);
            nextBtn.addEventListener('click', showNextQuestion);
            restartBtn.addEventListener('click', restartQuiz);
            reviewBtn.addEventListener('click', showIncorrectQuestions);
            darkModeToggle.addEventListener('change', toggleDarkMode);
        }

        // Toggle dark mode
        function toggleDarkMode() {
            const isDarkMode = darkModeToggle.checked;
            document.body.classList.toggle('dark-mode', isDarkMode);
            updateToggleText(isDarkMode);
        }

        // Update toggle text opacity
        function updateToggleText(isDarkMode) {
            if (isDarkMode) {
                lightText.style.opacity = '0.5';
                darkText.style.opacity = '1';
            } else {
                lightText.style.opacity = '1';
                darkText.style.opacity = '0.5';
            }
        }

        // Show current question
        function showQuestion() {
            currentQuestionEl.textContent = currentQuestion + 1;
            scoreEl.textContent = score;
            
            const question = quizData[currentQuestion];
            let optionsHTML = '';
            
            question.options.forEach((option, index) => {
                let optionClass = 'option';
                if (userAnswers[currentQuestion] === index) {
                    optionClass += ' selected';
                    if (index === question.answer) {
                        optionClass += ' correct';
                    } else {
                        optionClass += ' incorrect';
                    }
                }
                
                optionsHTML += `
                    <div class="${optionClass}" data-index="${index}">
                        ${String.fromCharCode(65 + index)}) ${option}
                    </div>
                `;
            });
            
            let feedbackHTML = '';
            if (userAnswers[currentQuestion] !== null) {
                const isCorrect = userAnswers[currentQuestion] === question.answer;
                feedbackHTML = `
                    <div class="feedback ${isCorrect ? 'correct' : 'incorrect'}">
                        ${isCorrect ? '✓ Correct!' : '✗ Incorrect!'} 
                        ${!isCorrect ? `Correct answer: ${String.fromCharCode(65 + question.answer)}) ${question.options[question.answer]}` : ''}
                        <br><br>Explanation: ${question.explanation}
                    </div>
                `;
            }
            
            quizContainer.innerHTML = `
                <div class="question">
                    <div class="question-number">Question ${currentQuestion + 1}/${quizData.length}</div>
                    <div class="question-text">${question.question}</div>
                    <div class="options">${optionsHTML}</div>
                    ${feedbackHTML}
                </div>
            `;
            
            // Add event listeners to options
            const optionElements = quizContainer.querySelectorAll('.option');
            optionElements.forEach(option => {
                option.addEventListener('click', selectOption);
            });
            
            // Update navigation buttons
            prevBtn.disabled = currentQuestion === 0;
            nextBtn.textContent = currentQuestion === quizData.length - 1 ? 'Finish Quiz' : 'Next';
        }

        // Select an option
        function selectOption(e) {
            if (userAnswers[currentQuestion] !== null) return; // Already answered
            
            const selectedOption = e.currentTarget;
            const selectedIndex = parseInt(selectedOption.dataset.index);
            
            userAnswers[currentQuestion] = selectedIndex;
            
            // Check if answer is correct
            if (selectedIndex === quizData[currentQuestion].answer) {
                score++;
                scoreEl.textContent = score;
            } else {
                // Add to incorrect questions list
                incorrectQuestions.push({
                    question: quizData[currentQuestion].question,
                    userAnswer: selectedIndex,
                    correctAnswer: quizData[currentQuestion].answer,
                    options: quizData[currentQuestion].options,
                    explanation: quizData[currentQuestion].explanation,
                    questionNumber: currentQuestion + 1
                });
            }
            
            showQuestion();
            updateProgressBar();
        }

        // Show next question
        function showNextQuestion() {
            if (currentQuestion < quizData.length - 1) {
                currentQuestion++;
                showQuestion();
            } else {
                showResults();
            }
        }

        // Show previous question
        function showPreviousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                showQuestion();
            }
        }

        // Update progress bar
        function updateProgressBar() {
            const progress = ((currentQuestion + 1) / quizData.length) * 100;
            progressBar.style.width = `${progress}%`;
        }

        // Show results
        function showResults() {
            quizContainer.style.display = 'none';
            document.querySelector('.navigation').style.display = 'none';
            document.querySelector('.progress-container').style.display = 'none';
            document.querySelector('.stats').style.display = 'none';
            
            finalScoreEl.textContent = score;
            
            // Performance message
            const percentage = (score / quizData.length) * 100;
            let message = '';
            if (percentage >= 80) {
                message = 'Excellent! You have a strong understanding of Kinesiology 1 Shoulder Complex.';
            } else if (percentage >= 60) {
                message = 'Good job! You have a solid grasp of the material.';
            } else if (percentage >= 40) {
                message = 'Not bad! Review the material and try again.';
            } else {
                message = 'Keep studying! Review the lectures and try again.';
            }
            
            performanceMessageEl.textContent = message;
            resultsContainer.style.display = 'block';
            
            // Show review button only if there are incorrect answers
            if (incorrectQuestions.length > 0) {
                reviewBtn.style.display = 'inline-block';
            } else {
                reviewBtn.style.display = 'none';
            }
        }

        // Show incorrect questions
        function showIncorrectQuestions() {
            resultsContainer.style.display = 'none';
            reviewSection.style.display = 'block';
            
            let incorrectHTML = '';
            incorrectQuestions.forEach((item, index) => {
                incorrectHTML += `
                    <div class="review-question">
                        <div class="review-question-number">Question ${item.questionNumber}</div>
                        <div class="review-question-text">${item.question}</div>
                        <div>Your answer: ${String.fromCharCode(65 + item.userAnswer)}) ${item.options[item.userAnswer]}</div>
                        <div class="review-answer review-correct">Correct answer: ${String.fromCharCode(65 + item.correctAnswer)}) ${item.options[item.correctAnswer]}</div>
                        <div class="review-explanation">${item.explanation}</div>
                    </div>
                `;
            });
            
            incorrectQuestionsList.innerHTML = incorrectHTML;
        }

        // Restart quiz
        function restartQuiz() {
            currentQuestion = 0;
            score = 0;
            userAnswers = new Array(quizData.length).fill(null);
            incorrectQuestions = [];
            
            quizContainer.style.display = 'block';
            document.querySelector('.navigation').style.display = 'flex';
            document.querySelector('.progress-container').style.display = 'block';
            document.querySelector('.stats').style.display = 'flex';
            resultsContainer.style.display = 'none';
            reviewSection.style.display = 'none';
            
            showQuestion();
            updateProgressBar();
        }

        // Initialize the quiz when the page loads
        window.onload = initQuiz;
    </script>
</body>
</html>