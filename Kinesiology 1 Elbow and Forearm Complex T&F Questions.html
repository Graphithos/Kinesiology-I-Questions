<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MCQs on Kinesiology 1 Elbow and Forearm Complex T&F Questions Quiz</title>
    <style>
        :root {
            --bg-color: #f5f7fa;
            --container-bg: white;
            --text-color: #333;
            --border-color: #ddd;
            --primary-color: #3498db;
            --header-color: #2c3e50;
            --secondary-text: #7f8c8d;
            --progress-bg: #ecf0f1;
            --question-bg: #f8f9fa;
            --option-bg: #fff;
            --option-hover: #f1f8ff;
            --option-selected: #d1ecf1;
            --correct-bg: #d4edda;
            --correct-border: #28a745;
            --incorrect-bg: #f8d7da;
            --incorrect-border: #dc3545;
            --button-bg: #3498db;
            --button-hover: #2980b9;
            --button-disabled: #bdc3c7;
            --restart-bg: #2ecc71;
            --restart-hover: #27ae60;
            --review-bg: #f39c12;
            --review-hover: #e67e22;
            --toggle-bg: #ecf0f1;
            --toggle-slider: white;
            --toggle-text: #7f8c8d;
        }

        .dark-mode {
            --bg-color: #1a1a2e;
            --container-bg: #16213e;
            --text-color: #e6e6e6;
            --border-color: #394867;
            --primary-color: #4cc9f0;
            --header-color: #e6e6e6;
            --secondary-text: #a9a9a9;
            --progress-bg: #394867;
            --question-bg: #1f4068;
            --option-bg: #16213e;
            --option-hover: #1f4068;
            --option-selected: #1f4068;
            --correct-bg: #2d5a2d;
            --correct-border: #4caf50;
            --incorrect-bg: #5a2d2d;
            --incorrect-border: #f44336;
            --button-bg: #4cc9f0;
            --button-hover: #3aa8d0;
            --button-disabled: #5d6d7e;
            --restart-bg: #2ecc71;
            --restart-hover: #27ae60;
            --review-bg: #f39c12;
            --review-hover: #e67e22;
            --toggle-bg: #394867;
            --toggle-slider: #4cc9f0;
            --toggle-text: #e6e6e6;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            padding: 20px;
            transition: background-color 0.3s, color 0.3s;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: var(--container-bg);
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
            transition: background-color 0.3s, box-shadow 0.3s;
        }
        header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid var(--primary-color);
            position: relative;
        }
        h1 {
            color: var(--header-color);
            margin-bottom: 5px;
            font-size: 24px;
            transition: color 0.3s;
        }
        .author {
            color: var(--secondary-text);
            font-style: italic;
            margin-bottom: 10px;
            transition: color 0.3s;
        }
        .description {
            color: var(--secondary-text);
            margin-bottom: 20px;
            transition: color 0.3s;
        }
        .theme-toggle {
            position: absolute;
            top: 35px; /* Adjusted to align with author name */
            right: 0;
            display: flex;
            align-items: center;
        }
        .switch {
            position: relative;
            display: inline-block;
            width: 120px;
            height: 34px;
        }
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: var(--toggle-bg);
            transition: .4s;
            border-radius: 34px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 10px;
            font-size: 12px;
            font-weight: bold;
            color: var(--toggle-text);
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 60px;
            left: 4px;
            bottom: 4px;
            background-color: var(--toggle-slider);
            transition: .4s;
            border-radius: 34px;
            z-index: 1;
        }
        .slider-text {
            position: relative;
            z-index: 2;
            width: 100%;
            display: flex;
            justify-content: space-between;
        }
        .light-text, .dark-text {
            transition: opacity 0.3s;
        }
        .dark-mode .light-text {
            opacity: 0.5;
        }
        .light-text {
            opacity: 0.5;
        }
        .dark-mode .dark-text {
            opacity: 1;
        }
        .dark-text {
            opacity: 0.5;
        }
        input:checked + .slider:before {
            transform: translateX(52px);
        }
        .progress-container {
            background: var(--progress-bg);
            border-radius: 5px;
            margin-bottom: 20px;
            position: relative;
            height: 10px;
            transition: background-color 0.3s;
        }
        .progress-bar {
            height: 100%;
            background: var(--primary-color);
            border-radius: 5px;
            width: 0%;
            transition: width 0.3s ease, background-color 0.3s;
        }
        .stats {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            font-weight: bold;
            color: var(--header-color);
            transition: color 0.3s;
        }
        .question {
            background: var(--question-bg);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            transition: background-color 0.3s;
        }
        .question-number {
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 10px;
            transition: color 0.3s;
        }
        .question-text {
            font-size: 18px;
            margin-bottom: 15px;
        }
        .options {
            display: grid;
            grid-gap: 10px;
        }
        .option {
            padding: 12px 15px;
            background: var(--option-bg);
            border: 2px solid var(--border-color);
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .option:hover {
            background: var(--option-hover);
            border-color: var(--primary-color);
        }
        .option.selected {
            background: var(--option-selected);
            border-color: var(--primary-color);
        }
        .option.correct {
            background: var(--correct-bg);
            border-color: var(--correct-border);
        }
        .option.incorrect {
            background: var(--incorrect-bg);
            border-color: var(--incorrect-border);
        }
        .feedback {
            padding: 15px;
            border-radius: 5px;
            margin-top: 15px;
            display: none;
        }
        .feedback.correct {
            background: var(--correct-bg);
            color: var(--text-color);
            border: 1px solid var(--correct-border);
            display: block;
        }
        .feedback.incorrect {
            background: var(--incorrect-bg);
            color: var(--text-color);
            border: 1px solid var(--incorrect-border);
            display: block;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        button {
            padding: 10px 20px;
            background: var(--button-bg);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: background 0.3s;
        }
        button:hover {
            background: var(--button-hover);
        }
        button:disabled {
            background: var(--button-disabled);
            cursor: not-allowed;
        }
        .results {
            text-align: center;
            padding: 30px;
            display: none;
        }
        .score {
            font-size: 24px;
            margin-bottom: 20px;
            color: var(--header-color);
        }
        .score-value {
            font-size: 48px;
            color: var(--primary-color);
            font-weight: bold;
        }
        .restart-btn {
            margin-top: 20px;
            background: var(--restart-bg);
        }
        .restart-btn:hover {
            background: var(--restart-hover);
        }
        .review-btn {
            margin-top: 20px;
            background: var(--review-bg);
        }
        .review-btn:hover {
            background: var(--review-hover);
        }
        .review-section {
            margin-top: 30px;
            padding: 20px;
            background: var(--question-bg);
            border-radius: 8px;
            display: none;
        }
        .review-title {
            font-size: 20px;
            margin-bottom: 15px;
            color: var(--header-color);
            text-align: center;
        }
        .review-question {
            margin-bottom: 20px;
            padding: 15px;
            border-left: 4px solid var(--incorrect-border);
            background: var(--container-bg);
            border-radius: 4px;
        }
        .review-question-number {
            font-weight: bold;
            color: var(--incorrect-border);
            margin-bottom: 8px;
        }
        .review-question-text {
            margin-bottom: 10px;
        }
        .review-answer {
            margin-top: 8px;
            font-weight: bold;
        }
        .review-correct {
            color: var(--correct-border);
        }
        .review-explanation {
            margin-top: 5px;
            font-style: italic;
            color: var(--secondary-text);
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>MCQs on Kinesiology 1 Elbow and Forearm Complex T&F Questions Quiz</h1>
            <p class="author">Dr. Samy Salem</p>
            <p class="description">Test your knowledge of Kinesiology 1 Elbow and Forearm Complex</p>
            <div class="theme-toggle">
                <label class="switch">
                    <input type="checkbox" id="dark-mode-toggle">
                    <span class="slider">
                        <div class="slider-text">
                            <span class="light-text">Light</span>
                            <span class="dark-text">Dark</span>
                        </div>
                    </span>
                </label>
            </div>
        </header>

        <div class="progress-container">
            <div class="progress-bar" id="progress-bar"></div>
        </div>

        <div class="stats">
            <div>Question: <span id="current-question">1</span>/<span id="total-questions">55</span></div>
            <div>Score: <span id="score">0</span>/<span id="total-score">55</span></div>
        </div>

        <div id="quiz-container">
            <!-- Questions will be inserted here by JavaScript -->
        </div>

        <div class="navigation">
            <button id="prev-btn" disabled>Previous</button>
            <button id="next-btn">Next</button>
        </div>

        <div id="results" class="results">
            <div class="score">Your Score: <span class="score-value" id="final-score">0</span>/55</div>
            <p id="performance-message"></p>
            <button class="restart-btn" id="restart-btn">Restart Quiz</button>
            <button class="review-btn" id="review-btn">Review Incorrect Answers</button>
        </div>

        <div id="review-section" class="review-section">
            <h2 class="review-title">Questions Answered Incorrectly</h2>
            <div id="incorrect-questions-list"></div>
        </div>
    </div>

    <script>
        // Quiz data (all 55 questions from the PDF)
        const quizData = [
            {
                question: "The medial lip of the trochlea projects more distally than the lateral lip.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "Hyaline cartilage covers ~180 degrees of the articular surface of the trochlea.",
                options: [
                    "True",
                    "False"
                ],
                answer: 1,
                explanation: "False (~300 degrees)"
            },
            {
                question: "Forearm pronators are attached to the lateral epicondyle.",
                options: [
                    "True",
                    "False"
                ],
                answer: 1,
                explanation: "False (Medial epicondyle)"
            },
            {
                question: "Lateral ulnar collateral ligament originates from the lateral epicondyle and inserts into the annular ligament.",
                options: [
                    "True",
                    "False"
                ],
                answer: 1,
                explanation: "False (Inserts into the supinator crest, radial collateral ligament blends with the annular ligament)"
            },
            {
                question: "The olecranon fossa is separated from the coronoid fossa by a thin sheet of bone/membrane.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "Coronoid process provides the primary bony stability against posterior dislocation.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "Half of the ulnar head is covered by articular cartilage.",
                options: [
                    "True",
                    "False"
                ],
                answer: 1,
                explanation: "False (Three-quarters)"
            },
            {
                question: "Hyaline cartilage covers ~180 degrees of the articular surface of the trochlear notch.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "The radial head is disc-shaped and ~280 degrees of rim is covered by articular cartilage.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "The elbow joint is a Pure Hing Joint.",
                options: [
                    "True",
                    "False"
                ],
                answer: 1,
                explanation: "False (Modified Hing Joint)"
            },
            {
                question: "Normal cubitus valgus is ~167 degrees.",
                options: [
                    "True",
                    "False"
                ],
                answer: 1,
                explanation: "False (~13 degrees)"
            },
            {
                question: "A valgus angle of 20-25 or more can stretch and damage the ulnar nerve and the proximal attachment for the forearm pronators and wrist flexors muscle.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "In Cubitus Varus or 'Gunstock Deformity,' the forearm deviates laterally.",
                options: [
                    "True",
                    "False"
                ],
                answer: 1,
                explanation: "False (Medially)"
            },
            {
                question: "The thin articular capsule covers 3 joints; the humeroulnar, the humeroradial, and the proximal radioulnar.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "Medial collateral ligament resists valgus stress.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "The anterior fibers of the medial collateral are the most important for valgus stability.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "The posterior fibers of the medial collateral ligament become taught in full elbow extension.",
                options: [
                    "True",
                    "False"
                ],
                answer: 1,
                explanation: "False (Elbow flexion, anterior fibers become taught in full extension)"
            },
            {
                question: "The transverse fibers of the medial collateral ligament provide minimal stability because they originate from the olecranon process and insert into the coronoid process.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "Falling on an outstretched hand may cause compression fracture of the radial head and cause severe varus stress.",
                options: [
                    "True",
                    "False"
                ],
                answer: 1,
                explanation: "False (Valgus stress)"
            },
            {
                question: "For baseball pitchers (or any sport that requires excessive abduction and external rotation of the shoulder), valgus producing torque is the greatest in the late cocking stage.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "The radial collateral ligament is thicker than the lateral ulnar collateral ligament.",
                options: [
                    "True",
                    "False"
                ],
                answer: 1,
                explanation: "False (LUCL is thicker than the radial collateral ligament)"
            },
            {
                question: "The lateral ulnar collateral ligament is a key stabilizer resisting posterior dislocations.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "At ~80 degrees elbow flexion the intracapsular pressure is lowest; which is called position of comfort, but could lead to flexion contractures.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "The closed-packed position for the elbow joint is 70 degrees flexion with 10 degrees supination.",
                options: [
                    "True",
                    "False"
                ],
                answer: 1,
                explanation: "False (Open-packed, closed-packed is full elbow extension and supination)"
            },
            {
                question: "The capsular pattern for the elbow joint is characterized by a greater loss of extension than flexion.",
                options: [
                    "True",
                    "False"
                ],
                answer: 1,
                explanation: "False (Greater loss of flexion than extension)"
            },
            {
                question: "The functional arc for the elbow joint is ~30-130 degrees for most ADLs.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "The humeroradial joint provides significant lateral stability, resisting 50% of valgus force.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "The central band of the interosseous membrane runs distal-medially at a ~20-degree angle from the ulna to the radius.",
                options: [
                    "True",
                    "False"
                ],
                answer: 1,
                explanation: "False (From the radius to the ulna)"
            },
            {
                question: "The oblique cord and the distal oblique cord of the IOM limit distal migration of the radius.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "The interosseous membrane has a tensile strength similar to the patellar tendon.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "The distal oblique cord does not stabilize the distal radioulnar joint.",
                options: [
                    "True",
                    "False"
                ],
                answer: 1,
                explanation: "False (Does stabilize the DRUJ)"
            },
            {
                question: "Holding a heavy object places more demand on the oblique and distal oblique cords of the IOM and the annular ligament, while slackening the central band.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "The length of the interosseous membrane changes in pronation and supination.",
                options: [
                    "True",
                    "False"
                ],
                answer: 1,
                explanation: "False (The length doesn't change because the IOM is almost parallel to the axis of rotation, with a slight deviation of 10-12 degrees)"
            },
            {
                question: "Distraction of the radius is passively resisted by the brachioradialis.",
                options: [
                    "True",
                    "False"
                ],
                answer: 1,
                explanation: "False (Dynamically)"
            },
            {
                question: "The axis of rotation of the forearm runs from the radial head to the ulnar head.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "The quadrate ligament attaches to the medial surface of the radial neck and stabilizes the proximal radioulnar joint.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "The Triangular fibrocartilage complex is a secondary stabilizer of the distal radioulnar joint.",
                options: [
                    "True",
                    "False"
                ],
                answer: 1,
                explanation: "False (The primary)"
            },
            {
                question: "Most of the ulno-carpal space is filled with TFCC.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "The closed packed position for the distal radioulnar joint is full supination or pronation.",
                options: [
                    "True",
                    "False"
                ],
                answer: 1,
                explanation: "False (Only 10% of the ulnar notch is in contact with the ulnar head at full rotation)"
            },
            {
                question: "Full pronation slackens the dorsal capsule by 70%.",
                options: [
                    "True",
                    "False"
                ],
                answer: 1,
                explanation: "False (Palmar capsule)"
            },
            {
                question: "In a weight-bearing pronation and supination, the fovea of the radius spins relative to the capitulum of the humerus.",
                options: [
                    "True",
                    "False"
                ],
                answer: 1,
                explanation: "False (The capitulum spins relative to the fixed fovea)"
            },
            {
                question: "Shoulder internal rotation causes supination in a non-weight bearing position.",
                options: [
                    "True",
                    "False"
                ],
                answer: 1,
                explanation: "False (Pronation, external rotation causes supination)"
            },
            {
                question: "In weight-bearing pronation, the infraspinatus externally rotates the humerus, while the pronator quadratus rotates the radius.",
                options: [
                    "True",
                    "False"
                ],
                answer: 1,
                explanation: "False (Pronator quadratus rotates the ulna)"
            },
            {
                question: "The palmar ligament of the TFCC resists supination, while the dorsal ligament resists pronation in non-weight bearing position.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "The functional arc for rotation and supination for ADLs is 100 degrees in total (50 degrees for pronation and 50 degrees for supination).",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "The range of motion available for pronation is 85 degrees, while supination is 75 degrees.",
                options: [
                    "True",
                    "False"
                ],
                answer: 1,
                explanation: "False (85 degrees for supination, 75 degrees for pronation)"
            },
            {
                question: "Limited forearm rotation can be compensated by shoulder rotation.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "The proximal radioulnar joint receives sensory innervation from branches from the median nerve (C6, C7), and the distal radioulnar joint receives sensory innervation from branches from the ulnar nerve (C8).",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "The biceps brachii has the largest cross sectional area in the elbow flexors group.",
                options: [
                    "True",
                    "False"
                ],
                answer: 1,
                explanation: "False (Brachialis)"
            },
            {
                question: "The brachioradialis has the longest moment arm of the elbow flexors.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "Biceps work as a supinator most effectively at 90 degrees elbow flexion.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "Supinating with the biceps requires the triceps to co-contract to neutralize the flexion tendency of the biceps.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "The pronator teres is activated first regardless of the power demand or angle of elbow.",
                options: [
                    "True",
                    "False"
                ],
                answer: 1,
                explanation: "False (Reserved for high-power tasks)"
            },
            {
                question: "The Pronator quadratus stabilizes the distal radioulnar joint.",
                options: [
                    "True",
                    "False"
                ],
                answer: 0,
                explanation: "True"
            },
            {
                question: "The flexor carpi radialis and palmaris longus are considered primary pronators.",
                options: [
                    "True",
                    "False"
                ],
                answer: 1,
                explanation: "False (Secondary)"
            }
        ];

        // Quiz state variables
        let currentQuestion = 0;
        let score = 0;
        let userAnswers = new Array(quizData.length).fill(null);
        let incorrectQuestions = [];

        // DOM elements
        const quizContainer = document.getElementById('quiz-container');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const progressBar = document.getElementById('progress-bar');
        const currentQuestionEl = document.getElementById('current-question');
        const totalQuestionsEl = document.getElementById('total-questions');
        const scoreEl = document.getElementById('score');
        const totalScoreEl = document.getElementById('total-score');
        const resultsContainer = document.getElementById('results');
        const finalScoreEl = document.getElementById('final-score');
        const performanceMessageEl = document.getElementById('performance-message');
        const restartBtn = document.getElementById('restart-btn');
        const reviewBtn = document.getElementById('review-btn');
        const reviewSection = document.getElementById('review-section');
        const incorrectQuestionsList = document.getElementById('incorrect-questions-list');
        const darkModeToggle = document.getElementById('dark-mode-toggle');
        const lightText = document.querySelector('.light-text');
        const darkText = document.querySelector('.dark-text');

        // Initialize quiz
        function initQuiz() {
            totalQuestionsEl.textContent = quizData.length;
            totalScoreEl.textContent = quizData.length;
            showQuestion();
            updateProgressBar();
            
            // Initialize dark mode based on system preference
            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                document.body.classList.add('dark-mode');
                darkModeToggle.checked = true;
                updateToggleText(true);
            } else {
                updateToggleText(false);
            }
            
            // Event listeners
            prevBtn.addEventListener('click', showPreviousQuestion);
            nextBtn.addEventListener('click', showNextQuestion);
            restartBtn.addEventListener('click', restartQuiz);
            reviewBtn.addEventListener('click', showIncorrectQuestions);
            darkModeToggle.addEventListener('change', toggleDarkMode);
        }

        // Toggle dark mode
        function toggleDarkMode() {
            const isDarkMode = darkModeToggle.checked;
            document.body.classList.toggle('dark-mode', isDarkMode);
            updateToggleText(isDarkMode);
        }

        // Update toggle text opacity
        function updateToggleText(isDarkMode) {
            if (isDarkMode) {
                lightText.style.opacity = '0.5';
                darkText.style.opacity = '1';
            } else {
                lightText.style.opacity = '1';
                darkText.style.opacity = '0.5';
            }
        }

        // Show current question
        function showQuestion() {
            currentQuestionEl.textContent = currentQuestion + 1;
            scoreEl.textContent = score;
            
            const question = quizData[currentQuestion];
            let optionsHTML = '';
            
            question.options.forEach((option, index) => {
                let optionClass = 'option';
                if (userAnswers[currentQuestion] === index) {
                    optionClass += ' selected';
                    if (index === question.answer) {
                        optionClass += ' correct';
                    } else {
                        optionClass += ' incorrect';
                    }
                }
                
                optionsHTML += `
                    <div class="${optionClass}" data-index="${index}">
                        ${String.fromCharCode(65 + index)}) ${option}
                    </div>
                `;
            });
            
            let feedbackHTML = '';
            if (userAnswers[currentQuestion] !== null) {
                const isCorrect = userAnswers[currentQuestion] === question.answer;
                feedbackHTML = `
                    <div class="feedback ${isCorrect ? 'correct' : 'incorrect'}">
                        ${isCorrect ? '✓ Correct!' : '✗ Incorrect!'} 
                        ${!isCorrect ? `Correct answer: ${String.fromCharCode(65 + question.answer)}) ${question.options[question.answer]}` : ''}
                        <br><br>Explanation: ${question.explanation}
                    </div>
                `;
            }
            
            quizContainer.innerHTML = `
                <div class="question">
                    <div class="question-number">Question ${currentQuestion + 1}/${quizData.length}</div>
                    <div class="question-text">${question.question}</div>
                    <div class="options">${optionsHTML}</div>
                    ${feedbackHTML}
                </div>
            `;
            
            // Add event listeners to options
            const optionElements = quizContainer.querySelectorAll('.option');
            optionElements.forEach(option => {
                option.addEventListener('click', selectOption);
            });
            
            // Update navigation buttons
            prevBtn.disabled = currentQuestion === 0;
            nextBtn.textContent = currentQuestion === quizData.length - 1 ? 'Finish Quiz' : 'Next';
        }

        // Select an option
        function selectOption(e) {
            if (userAnswers[currentQuestion] !== null) return; // Already answered
            
            const selectedOption = e.currentTarget;
            const selectedIndex = parseInt(selectedOption.dataset.index);
            
            userAnswers[currentQuestion] = selectedIndex;
            
            // Check if answer is correct
            if (selectedIndex === quizData[currentQuestion].answer) {
                score++;
                scoreEl.textContent = score;
            } else {
                // Add to incorrect questions list
                incorrectQuestions.push({
                    question: quizData[currentQuestion].question,
                    userAnswer: selectedIndex,
                    correctAnswer: quizData[currentQuestion].answer,
                    options: quizData[currentQuestion].options,
                    explanation: quizData[currentQuestion].explanation,
                    questionNumber: currentQuestion + 1
                });
            }
            
            showQuestion();
            updateProgressBar();
        }

        // Show next question
        function showNextQuestion() {
            if (currentQuestion < quizData.length - 1) {
                currentQuestion++;
                showQuestion();
            } else {
                showResults();
            }
        }

        // Show previous question
        function showPreviousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                showQuestion();
            }
        }

        // Update progress bar
        function updateProgressBar() {
            const progress = ((currentQuestion + 1) / quizData.length) * 100;
            progressBar.style.width = `${progress}%`;
        }

        // Show results
        function showResults() {
            quizContainer.style.display = 'none';
            document.querySelector('.navigation').style.display = 'none';
            document.querySelector('.progress-container').style.display = 'none';
            document.querySelector('.stats').style.display = 'none';
            
            finalScoreEl.textContent = score;
            
            // Performance message
            const percentage = (score / quizData.length) * 100;
            let message = '';
            if (percentage >= 80) {
                message = 'Excellent! You have a strong understanding of Kinesiology 1 Elbow and Forearm Complex.';
            } else if (percentage >= 60) {
                message = 'Good job! You have a solid grasp of the material.';
            } else if (percentage >= 40) {
                message = 'Not bad! Review the material and try again.';
            } else {
                message = 'Keep studying! Review the lectures and try again.';
            }
            
            performanceMessageEl.textContent = message;
            resultsContainer.style.display = 'block';
            
            // Show review button only if there are incorrect answers
            if (incorrectQuestions.length > 0) {
                reviewBtn.style.display = 'inline-block';
            } else {
                reviewBtn.style.display = 'none';
            }
        }

        // Show incorrect questions
        function showIncorrectQuestions() {
            resultsContainer.style.display = 'none';
            reviewSection.style.display = 'block';
            
            let incorrectHTML = '';
            incorrectQuestions.forEach((item, index) => {
                incorrectHTML += `
                    <div class="review-question">
                        <div class="review-question-number">Question ${item.questionNumber}</div>
                        <div class="review-question-text">${item.question}</div>
                        <div>Your answer: ${String.fromCharCode(65 + item.userAnswer)}) ${item.options[item.userAnswer]}</div>
                        <div class="review-answer review-correct">Correct answer: ${String.fromCharCode(65 + item.correctAnswer)}) ${item.options[item.correctAnswer]}</div>
                        <div class="review-explanation">${item.explanation}</div>
                    </div>
                `;
            });
            
            incorrectQuestionsList.innerHTML = incorrectHTML;
        }

        // Restart quiz
        function restartQuiz() {
            currentQuestion = 0;
            score = 0;
            userAnswers = new Array(quizData.length).fill(null);
            incorrectQuestions = [];
            
            quizContainer.style.display = 'block';
            document.querySelector('.navigation').style.display = 'flex';
            document.querySelector('.progress-container').style.display = 'block';
            document.querySelector('.stats').style.display = 'flex';
            resultsContainer.style.display = 'none';
            reviewSection.style.display = 'none';
            
            showQuestion();
            updateProgressBar();
        }

        // Initialize the quiz when the page loads
        window.onload = initQuiz;
    </script>
</body>
</html>